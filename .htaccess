
# Configuration .htaccess racine pour CVAC
# Hébergement mutualisé

# Activer le moteur de réécriture
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /

    # Rediriger les requêtes API vers le dossier api/
    RewriteCond %{REQUEST_URI} ^/api/(.*)$
    RewriteRule ^api/(.*)$ api/$1 [L]

    # Rediriger toutes les autres requêtes vers le frontend
    # (si le frontend est dans un sous-dossier, ajustez le chemin)
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(?!api/)(.*)$ frontend/$1 [L]
</IfModule>

# Désactiver la liste des répertoires
Options -Indexes

# Empêcher l'accès aux fichiers sensibles
<FilesMatch "^\.">
    Order allow,deny
    Deny from all
</FilesMatch>
